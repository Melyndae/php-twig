{% extends 'base.html.twig' %}

{% block title %}Students{% endblock %}

{% block body %}

<h1>Students</h1>

<div>
    <a class="btn btn-outline-success mt-2 mb-2" href="/student-new.php">Ajouter un student</a>
</div>

<table class="table table-striped table-bordered table-hover">
    <tr>
        <th>id</th>
        <th>firstname</th>
        <th>lastname</th>
        <th>promotion</th>
        <th>action</th>
    </tr>
    {% for student in students %}
    <tr class="student" data-id="{{ student.id }}">
        <td>
            <a href="/student-edit.php?id={{ student.id }}">{{ student.id }}</a>
        </td>
        <td>
            <a href="/student-edit.php?id={{ student.id }}">{{ student.firstname }}</a>
        </td>
        <td>
            <a href="/student-edit.php?id={{ student.id }}">{{ student.lastname }}</a>
        </td>
        <td>
            <a href="/student-edit.php?id={{ student.id }}">{{ student.name }}</a>
        </td>
        <td>
        <div class="btn-group">
            <button type="button" class="btn btn-outline-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                modifier
            </button>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="/student-edit.php?id={{ student.id }}">modifier un student</a>
                <a class="dropdown-item" href="/promotion-edit.php?id={{ promotion.id }}">modifier une promotion</a>
            </div>
            </div>

            <a class="btn btn-outline-danger delete-link" href="/student-delete.php?id={{ student.id }}">supprimer</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
